# 03 임계구역 해결 방법

--- 

- 임계 구역 문제를 해결하는 단순한 방법을 lock 을 사용하는 것
- 상호 배제 문제
    - lock 변수를 이용하나, 프로세스의 타임아웃으로 락을 상실하는 문제
- 한정 대기 문제
    - 프로세스 타임아웃으로 교착 상태에 빠지는 문제
- 진행의 융통성 문제
    - 진행을 방해하는 경직된 동기화 문제
- 하드웨어적 해결 방법
    - 검사와 지정 (test_and_set) 을 이용해 한번에 실행하는 코드

### 피터슨 알고리즘
- 복잡하여 사용하지 않는다.
- turn 공유 변수 사용
- 2개 프로세스만 사용 가능하며, 여러 프로세스가 하나의 임계 구역을 사용하려면 공유 변수를 추가해야 한다.

### 데커 알고리즘
- 역시 복잡하여 사용하지 않음
- turn 공유 변수를 검사하는 조건문을 추가했다.
- 프로세스가 늘어날 수록 변수도 늘어나며, 알고리즘이 복잡해진다.

### 세마포어
- 임계구역 진입 전 스위치를 사용 중으로 놓고 임계 구역에 들어간다.
- 작업 완료 후, 세마포어는 임계 구역을 사용하라는 동기화 신호를 보낸다.
- 바쁜 대기, 동기화 메시지 전송 필요 x
- Semaphore(n) : 현재 사용 가능한 자원의 개수 지정
- P() : 잠금 수행 코드 이며, 자원을 1만큼 감소 시킨다.
- V() : 잠금 해제 및 동기화를 같이 수행하는 코드이며, 다시 1만큼 증가시킨다.
- 프로세스는 세마포어의 큐를 통해 대기하고, 임계 구역에 진입한다.
- wake_up 코드를 통해 다른 프로세스에게 신호를 보내야 한다.

### 모니터
- 세마포어의 잘못 된 사용을 방지하기 위해 만들어진 인터페이스
- P, V, wake_up 등의 함수를 알아서 실행해준다.
- 임계구역의 보호와 동기화를 위해 내부적으로 상태 변수를 활용하여 판단한다.
- wait(), signal() 함수는 위 함수를 추상화한것

--- 

# 04 파일, 파이프, 소켓 프로그래밍

---

## 파일
- 순차 파일
  - 파일 내의 데이터는 한 줄로 길게 저장 됨.
- 순차 파일 접근
  - 순차 파일에 접근하는 방식 

### 파일 기술자
- 파일을 여는 키, fd
- 이를 통해 읽기, 쓰기, 생성 등이 가능하다.

### 파일을 이용한 통신
- 부모와 자식 프로세스 간 통신에 파일을 읽고 쓰는 방식이 있다.

## 파이프
- 동기화를 지원하는 단방향 통신 시스템
- 파이프의 경우, fd 를 공유하지 않고, 별개로 갖고 잇게 된다.
- 대기가 있는 통신이므로, wait() 를 호출하지 않아도 된다.

## 네트워킹
- 소켓을 이용한 통신
- 서버와 클라이언트 간 소켓을 통해 파일을 읽고 쓰는 통신이 가능하다.
